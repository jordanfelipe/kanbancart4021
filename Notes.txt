14JUN2023:
Rebuild server to Ubuntu 22.04 LTS.
For DigitalOcean, recover root password via email.
Create user jordan.
    useradd -m jordan  // m: with home
    passwd jordan // create password for jordan 
    su jordan // switch to jordan
    groupadd -aG sudo jordan // add jordan to sudoers
    cd // go home 
Update sudo information.
    usermod -aG sudo username // add jordan to sudoers 
    EDITOR=nano visudo // use nano to edit sudo file
    visudo // edit sudo file
    Defaults        timestamp_timeout=60 // update sudo timeout 
Uploadtemplate .bashrc file. 
To allow ssh with key, generate ssh files.
    // !! Look into disallowing other types of login. I didn't do that this last time. 
    mkdir .ssh 
    cd .ssh
    nano authorized_keys // consolidate this and the last two
    // Add public keyfile.
SSH in.
Update system.
Install AMP+.
    Packages: 'php, apache2, mariadb-server, php-mysql, php-curl, php-gd, php-xml, php-zip'
MariaDB setup.
    sudo mysql_secure_installation
    // Don't set root password.
    // Answer 'yes' to configuration options.
MariaDB admin user.
    sudo mariadb
    GRANT ALL ON *.* TO `admin`@`localhost` IDENTIFIED BY '[password]' WITH GRANT OPTION; // replace [password]
    FLUSH PRIVILEGES;
    CREATE TABLE kanbancart;
    CREATE USER `kanbanshop`@`localhost` INDENTIFIED BY '[password]'; // replace [password]
    GRANT CREATE, DELETE, DROP, EXECUTE, INSERT, SELECT, UPDATE ON `kanbancart`.* TO `kanbanshop`@`localhost`;
    FLUSH PRIVILEGES;
    exit;
Start apache2 server.
    sc start apache2.service
    sc enable apache2.service

15JUN2023:
Restrict IP access.
    // Upload 000-default.conf. Edit IP address.
Clone git repository.
    git clone https://[REPOSITORY_URL]
    git config --global user.name "Jordan Felipe"
    git config --global user.email "jordanfelipe402@gmail.com"
Follow install instructions INSTALL.md.
    // In /var/www/html/[HTML_FOLDER].
    sudo chown -R www-data ./*
    sudo chgrp -R www-data ./*
    sudo chmod 770 config.php
    cd admin/
    sudo chmod 770 config.php

16JUN2023:
Move storage directory.
    sudo mv /var/www/html/system/storage/ /var/www/html/storage-main/
    sudo nano /var/www/html/config.php 
        // Change
        define('DIR_STORAGE', DIR_OPENCART . 'storage/');
        // To
        define('DIR_STORAGE', '/var/www/storage-main/');
    sudo nano /var/www/html/admin/config.php
        // Repeat above
Rename admin directory
    sudo mv /var/www/html/admin/ /var/www/html/[NEW NAME]/
    sudo nano /var/www/html/[NEW NAME]/config.php 
        // Change 
        define('HTTP_SERVER', 'http://kanbancart.com/admin/');
        define('DIR_APPLICATION', DIR_OPENCART . 'admin/');
        // To
        define('HTTP_SERVER', 'http://kanbancart.com/[NEW NAME]/');
        define('DIR_APPLICATION', DIR_OPENCART . '[NEW NAME]/');
19JUN2023: (20JUN2023: Clean up and tested entries.)
Set html/ permissions
    // !! Verify this.
    cd /var/www/html
    // Change owner:group.
    sudo chown -R www-data:www-data ./
    // Add www-data and user read, write, execute to all directories.
    sudo find /var/www/html -type d -exec chmod u+rwx {} +
    sudo find /var/www/html -type d -execdir setfacl -m u:jordan:rwx -m o::--- {} +
    // Add www-data and user read, write to all files.
    sudo find /var/www/html -type f -exec chmod u+rw {} +
    sudo find /var/www/html -type f -exec setfacl -m u:jordan:rw -m o::--- {} +
    // Set GID so future files maintain permissions.
    sudo find /var/www/html -type d -exec chmod g+s {} +
20JUN2023: 
    // !! Check this last command. Group flag s bit is set (-s-), but confirm it works. 
User jordan can rwx as needed.
www-data seems to be forbidden. 
www-data user:group is currently www-data:www-data.
21JUN2023:
/var/www/html user:group had to be updated to www-data:www-data
    sudo chown www-data:www-data /var/www/html/
26JUN2023:
Currently working on modifications. 
Significant structural changes have been made. 
OCMOD was removed in v4.0. The replacement is Events which initially seem to be insufficient.
There is a vQmod extension available. Extension breaks after step 1 vQmod installation.
May be due to non-default naming of 'admin' directory.
Reloaded site using official release 4.0.2.1. I will try not renaming the 'admin' directory. Also, I wanted to use a more stable release base. 
Don't forget to read your own instructions.
Site reloaded. Trying clicker_vqmod_manager.ocmod first without renaming 'admin' directory.
Alternate settings: {
    Follow install instructions INSTALL.md.
    
    Set html/ permissions
        // !! Verify this.
        cd /var/www/html
        // Change owner:group.
        sudo chown -R www-data:www-data ./
        // Add www-data and user read, write, execute to all directories.
        sudo find /var/www/html -type d -exec chmod 770 {} +
        sudo find /var/www/html -type d -execdir setfacl -m u:jordan:rwx -m o::--- {} +
        // Add www-data and user read, write to all files.
        sudo find /var/www/html -type f -exec chmod 660 {} +
        sudo find /var/www/html -type f -exec setfacl -m u:jordan:rw -m o::--- {} +
        // Set GID so future files maintain permissions.
        sudo find /var/www/html -type d -exec chmod g+s {} +
    Move storage directory.
        // In /var/www/html/[HTML_FOLDER] when separating sites.
        sudo mv /var/www/html/system/storage/ /var/www/html/storage-main/
        sudo nano /var/www/html/config.php 
            // Change
            define('DIR_STORAGE', DIR_OPENCART . 'storage/');
            // To
            define('DIR_STORAGE', '/var/www/storage-main/');
        sudo chmod 770 config.php
        cd admin/
        sudo nano /var/www/html/admin/config.php
            // Repeat above
        sudo chmod 770 config.php
}

28JUN2023:
Site reloaded with 4.0.2.1. Loaded clicker_vqmod_manager.ocmod without renaming admin directory. 
